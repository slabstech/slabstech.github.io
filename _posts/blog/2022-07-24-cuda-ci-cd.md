---
layout: post
title: "CI/CD for CUDA Applications"
excerpt: "Use Github Actions and Docker Containers"
categories: blog
tags: [ blog ]

date: 2022-07-24T08:08:50-04:00

---

* Github actions
  * [action-cuda-compiler-cpp](https://github.com/slabstech/action-cuda-compiler)
  * [action-cuda-compiler-python](https://github.com/slabstech/action-cuda-compiler-python)

Code to add in Repo's Github action file
```
jobs:
setup-build:
runs-on: ${{ matrix.os }}
name: setup-build
strategy:
matrix:
include:
- os: ubuntu-22.04
cuda: "11.7"
gcc: 10
permissions:
packages: write
contents: read

    steps:
      - uses: actions/checkout@v3
      - name: action-cuda-compiler
        uses: slabstech/action-cuda-compiler@v0.0.1
        with:
          cuda: ${{ matrix.cuda }}
          gcc: ${{ matrix.gcc }}
          action_build_dir: "build"
          action_config: "Release"
          action_cmake_path: "engine/" #Optional parameter if CMakeLists.txt is not in root folder
```
Example Code : [CICD](https://github.com/slabstech/amma/blob/main/.github/workflows/cicd.yml)


* Docker container
  * [CUDA CPP](https://hub.docker.com/r/slabstech/cuda-cpp) : docker pull slabstech/cuda-cpp
  * [Dockerfile CPP](https://github.com/slabstech/docker/tree/master/dockerfiles/cuda/cpp) 

```
FROM slabstech/cuda-cpp
WORKDIR /app
RUN apt update && \
    apt install --no-install-recommends -y build-essential cmake && \
    apt clean && rm -rf /var/lib/apt/lists/*
COPY engine/ engine
RUN cmake engine/. -B build -DCMAKE_BUILD_TYPE=Release
#RUN cmake --build . --target all --verbose -j `nproc`
CMD ["echo", "CUDA"]
```
Example Code : [Dockerfile](https://github.com/slabstech/amma/blob/main/Dockerfile)


* Kubernetes
  * WIP

* Reference Project
  * [ಅಮ್ಮ / amma : self aware replica](https://github.com/slabstech/amma)